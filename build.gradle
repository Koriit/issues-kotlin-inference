/////////////
// PLUGINS //
/////////////

plugins {
    id "org.jetbrains.kotlin.jvm" version "1.3.72" // kotlin 1.3.72 breaks the compilation
}

//////////////////
// DEPENDENCIES //
//////////////////

repositories {
    jcenter()
    maven { url 'https://dl.bintray.com/kotlin/kotlin-eap' }
}

ext {
    kodeinVersion = "6.5.5"
}

dependencies {
    // KOTLIN
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"

    // KODEIN DI
    implementation "org.kodein.di:kodein-di-generic-jvm:$kodeinVersion"
}


/////////////
// COMPILE //
/////////////

targetCompatibility = 11
sourceCompatibility = targetCompatibility

def compilerArgs = [
        "-Xjsr305=strict",
        "-XXLanguage:+NewInference"
]

compileKotlin {
    kotlinOptions {
        freeCompilerArgs += compilerArgs
        jvmTarget = "$targetCompatibility"
    }
}
